import validate;
import vm;

main() {
    programm = 
    "
        VAR x: INT;
        VAR v: INT;
        {
            x := (x + 1);
            v := 1;
            { 
                x := (x + 1) U x := (x - 1)
            };
            (x < (x + 1)) ?;
            x := (x + (2 * x));
        }
    "

    prog = parse(programm);

    println(prog);
    println("");

    correct = checkProgram(prog);
    if (correct) {
        println("correct");
        code = translateToVMCode(prog);
        println(code);
        println("");

        final = executeProgram(code);
        println(final);
    }

    quit(0);
}