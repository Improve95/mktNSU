// import labs/block2/rational/polynomRatSimpleV2;
import labs/block2/rational/polynomRatSimpleV4;

main() {
    /* v2 */
    /* 
    expr2 = s2re("x + 0 / x");

    res = simplifyExprByRules(expr2, 
    [
        convertToRule("x + y", "x + y"),
        convertToRule("x + x", "2 * x"),
        convertToRule("x + (y + z)", "y + (z + x)"),
        convertToRule("x + 0", "x")
    ]);

    println(re2s(res, 0)); 
    */

    /* v4 */
    
    testPolynom = "(x * 2 + 0) + x * 3";
    polynomExpr = s2re(testPolynom);

    simplePolynomExpr = maxTransform(polynomExpr);

    println(re2s(simplePolynomExpr, 0));

    vars = [Pair("x", RatNum(3, 2))];
    tree = setTreeValues(TreeEmpty(), vars);

    res = calcRe(simplePolynomExpr, tree);
    println(reNum2s(res));

    quit(0);
}
