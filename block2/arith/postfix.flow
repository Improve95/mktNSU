import string;
import math/math;
import ds/tree;
import lingo/pegcode/driver;
import fs/filesystem;

export {
  RpnExpr ::= SumRpn, MulRpn, ValRpn;
	ValRpn (d : double);
	SumRpn (e1 : RpnExpr, e2 : RpnExpr);
	MulRpn (e1 : RpnExpr, e2 : RpnExpr);

  rpnEx2i(e : RpnExpr) -> double;
  rpnEx2s(e : RpnExpr) -> string;
}

rpnEx2s(e : RpnExpr) -> string {
  "test";
}

rpnEx2i(e : RpnExpr) -> double {
  switch (e) {
    ValRpn(i): i;
    SumRpn(e1, e2): rpnEx2i(e1) + rpnEx2i(e2);
    MulRpn(e1, e2): rpnEx2i(e1) * rpnEx2i(e2);
  }
}